3
?dt
library(readr)
MortIcd7 <- read_csv("Grad School/2021-01 Spring/IA 530 - Econometrics-Ind Study/ia530_final_project/Data/MortIcd7.txt")
View(MortIcd7)
mort_data <- read_csv("Grad School/2021-01 Spring/IA 530 - Econometrics-Ind Study/ia530_final_project/Data/MortIcd7.txt")
library(tidyverse)
mort_data <- read_csv("Grad School/2021-01 Spring/IA 530 - Econometrics-Ind Study/ia530_final_project/Data/MortIcd7.txt")
mort_data
mort_data_us <- mort_data %>%
filter(Country==2450)
View(mort_data_us)
mort_data_us <- mort_data %>%
filter(Country==2450 & Cause %in% c(A148,B049))
mort_data_us <- mort_data %>%
filter(Country==2450 | Cause=='A148' | Cause=='B049')
mort_data_us <- mort_data %>%
filter(Country==2450 & (Cause=='A148' | Cause=='B049'))
mort_data <- read_csv("Grad School/2021-01 Spring/IA 530 - Econometrics-Ind Study/ia530_final_project/Data/MortIcd7.txt")
mort_data_us <- mort_data %>%
filter(Country==2450 & (Cause=='A148' | Cause=='B049'))
library(readr)
Morticd10_part2 <- read_csv("C:/Users/micha/Desktop/Morticd10_part2/Morticd10_part2")
View(Morticd10_part2)
mort_2 <- read_csv("C:/Users/micha/Desktop/Morticd10_part2/Morticd10_part2")
View(mort_2)
glimpse(mort_2)
mort_2_us <- mort_2 %>%
filter(Country==2450 & (Cause==1101))
mort_2_us <- mort_2 %>%
filter(Country==2450)
View(mort_2_us)
wd()
cwd()
getwd()
script.dir <- dirname(sys.frame(1)$ofile)
script.dir <- dirname(sys.frame(0)$ofile)
library(readr)
Morticd10_part2 <- read_csv("Grad School/2021-01 Spring/IA 530 - Econometrics-Ind Study/ia530_final_project/Data/who_mortality_data/Morticd10_part2/Morticd10_part2")
View(Morticd10_part2)
library(readr)
Morticd10_part1 <- read_csv("Grad School/2021-01 Spring/IA 530 - Econometrics-Ind Study/ia530_final_project/Data/who_mortality_data/Morticd10_part1/Morticd10_part1")
View(Morticd10_part1)
library(here)
install.packages(here)
install.packages('here')
library(tidyverse)
library(here)
library(here)
mort10_1 <- read_csv(here('Data','who_mortality_data'/'Morticd10_part1'/'Morticd10_part1'))
mort10_1 <- read_csv(here('Data','who_mortality_data','Morticd10_part1','Morticd10_part1'))
library(tidyverse)
library(here)
mort10_1 <- read_csv(here('Data','who_mortality_data','Morticd10_part1','Morticd10_part1'))
setwd("~/Grad School/2021-01 Spring/IA 530 - Econometrics-Ind Study/ia530_final_project/R Code")
mort10_1 <- read_csv(here('Data','who_mortality_data','Morticd10_part1','Morticd10_part1'))
library(tidyverse)
library(here)
mort10_1 <- read_csv(here('Data','who_mortality_data','Morticd10_part1','Morticd10_part1'))
library(tidyverse)
library(here)
mort10_1 <- read_csv(here('Data','who_mortality_data','Morticd10_part1','Morticd10_part1'))
View(mort10_1)
mort10_2 <- read_csv(here('Data','who_mortality_data','Morticd10_part2','Morticd10_part2'))
?read_csv
mort10_1 <- read_csv(here('Data','who_mortality_data','Morticd10_part1','Morticd10_part1'), col_types = cols(.default = "c"))
mort10_2 <- read_csv(here('Data','who_mortality_data','Morticd10_part2','Morticd10_part2'), col_types = cols(.default = "c"))
mort10_1 <- read_csv(here('Data','who_mortality_data','Morticd10_part1','Morticd10_part1'), col_types = cols(.default = "c"))
mort10_2 <- read_csv(here('Data','who_mortality_data','Morticd10_part2','Morticd10_part2'), col_types = cols(.default = "c"))
mort09_1 <- read_csv(here('Data','who_mortality_data','morticd9','Morticd9'), col_types = cols(.default = "c"))
mort08_1 <- read_csv(here('Data','who_mortality_data','morticd08','Morticd8'), col_types = cols(.default = "c"))
mort07_1 <- read_csv(here('Data','who_mortality_data','morticd07','Morticd7'), col_types = cols(.default = "c"))
names(mort07_1)
View(mort07_1)
View(mort10_1)
unique(mort10_1$Cause)
us_mort <- mort10_1 %>%
filter(Country=='2450')
us_mort <- mort10_1 %>%
filter(Country=='2450') %>%
mutate(Cause_Letter = grepl('[[:digit]]','',ignore.case=TRUE))
us_mort <- mort10_1 %>%
filter(Country=='2450') %>%
mutate(Cause_Letter = gsub('[[:digit]]','',Cause,ignore.case=TRUE))
us_mort <- mort10_1 %>%
filter(Country=='2450') %>%
mutate(Cause_Letter = gsub('[[:digit:]]','',Cause,ignore.case=TRUE))
library(readr)
CDCSuicideRates_StateYearAge1981_1998 <- read_csv("~/Grad School/2021-01 Spring/IA 530 - Econometrics-Ind Study/ia530_final_project/Data/CDCSuicideRates_StateYearAge1981-1998.csv")
View(CDCSuicideRates_StateYearAge1981_1998)
library(tidyverse)
cdc_data <- read_csv("~/Grad School/2021-01 Spring/IA 530 - Econometrics-Ind Study/ia530_final_project/Data/CDCSuicideRates_StateYearAge1981-1998.csv")
View(cdc_data)
library(janitor)
install.packages('janitor')
library(janitor)
cdc_data <- cdc_data %>% janitor::make_clean_names()
cdc_data <- read_csv("~/Grad School/2021-01 Spring/IA 530 - Econometrics-Ind Study/ia530_final_project/Data/CDCSuicideRates_StateYearAge1981-1998.csv")
cdc_data <- cdc_data %>% janitor::clean_names()
View(cdc_data)
ggplot(cdc_data %>% filter(state=='Alaska' & age_group=='10-14 yrs'), aes(x=year, y=crude_rate)) + geom_point()
ggplot(cdc_data %>% filter(age_group=='10-14 yrs'), aes(x=year, y=crude_rate, color=state)) + geom_line()
cdc_data <- cdc_data %>%
mutate(calc=deaths/population)
cdc_data <- cdc_data %>%
mutate(calc=deaths/population*100000)
summary <- cdc_data %>%
group_by(year, age_group) %>%
summarize(avg=mean(crude_rate))
ggplot(summary, aes(x=year, y=avg, color=age_group)) + geom_line() + geom_point()
summary <- cdc_data %>%
filter(age_group!='Ages 10 to 49') %>%
group_by(year, age_group) %>%
summarize(avg=mean(crude_rate))
ggplot(summary, aes(x=year, y=avg, color=age_group)) + geom_line() + geom_point()
sd(c(3,4,5))
summary <- cdc_data %>%
filter(age_group!='Ages 10 to 49') %>%
group_by(year, age_group) %>%
summarize(avg=mean(crude_rate), sd= sd(crude_rate))
ggplot(summary, aes(x=year, y=avg, color=age_group)) +
geom_line() +
geom_point() +
geom_errorbar(aes(ymin=avg-sd, ymax=avg+sd), width=.2,
position=position_dodge(.9))
cdc_data_us <- read_csv("~/Grad School/2021-01 Spring/IA 530 - Econometrics-Ind Study/ia530_final_project/Data/CDCSuicideRates_YearAge1999-2019.csv")
View(cdc_data_us)
cdc_data_us <- cdc_data_us %>% clean_names()
ggplot(cdc_data_us, aes(x=year, y=crude_rate)) +
geom_line() +
geom_point()
ggplot(cdc_data_us , aes(x=year, y=crude_rate, color=age_group)) +
geom_line() +
geom_point()
before_99 <- cdc_data %>%
group_by(year,age_group) %>%
summarize(deaths=sum(deaths), population=sum(population))
View(before_99)
after_99 <- cdc_data_us %>%
select(year, age_group, deaths, population)
all_data <- bind_rows(before_99, after_99)
View(all_data)
?bind_cols
before_99 <- cdc_data %>%
group_by(year,age_group) %>%
summarize(deat4hs=sum(deaths), population=sum(population))
after_99 <- cdc_data_us %>%
select(year, age_group, deaths, population)
all_data <- bind_rows(before_99, after_99) %>%
mutate()
before_99 <- cdc_data %>%
group_by(year,age_group) %>%
summarize(deaths=sum(deaths), population=sum(population))
after_99 <- cdc_data_us %>%
select(year, age_group, deaths, population)
all_data <- bind_rows(before_99, after_99) %>%
mutate()
all_data <- bind_rows(before_99, after_99) %>%
mutate(crude_rate=deaths/population)
all_data <- bind_rows(before_99, after_99) %>%
mutate(crude_rate=deaths/population*100000)
ggplot(all_data , aes(x=year, y=crude_rate, color=age_group)) +
geom_line() +
geom_point()
all_data <- bind_rows(before_99, after_99) %>%
mutate(crude_rate=deaths/population*100000) %>%
filter(age_group!='Ages 10 to 49')
ggplot(all_data , aes(x=year, y=crude_rate, color=age_group)) +
geom_line() +
geom_point()
ggplot(all_data , aes(x=year, y=population, color=age_group)) +
geom_line() +
geom_point()
ggplot(all_data , aes(x=year, y=deaths, color=age_group)) +
geom_line() +
geom_point()
ggplot(all_data , aes(x=year, y=crude_rate, color=age_group)) +
geom_line() +
geom_point()
